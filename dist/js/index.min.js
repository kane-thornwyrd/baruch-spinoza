var conf,bookRegistryRequest,books,libLoad=function(e){var o,n,t,i;for(o in e)if(e.hasOwnProperty(o)){n=e[o];for(t in e[o])e[o].hasOwnProperty(t);i=document.createElement("script")}},baruchSpinoza={Models:{},Collections:{},Views:{}},domReady=function(){function e(e){var o;for(o=0;o<e.length;o+=1)e[o](d)}function o(){var o=s;r&&o.length&&(s=[],e(o))}function n(){r||(r=!0,c&&clearInterval(c),o())}function t(e){return r?e(d):s.push(e),t}var i,a,c,l="undefined"!=typeof window&&window.document,r=!l,d=l?document:null,s=[];if(l){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),a=document.createElement("div");try{i=null===window.frameElement}catch(u){}a.doScroll&&i&&window.external&&(c=setInterval(function(){try{a.doScroll(),n()}catch(e){}},30))}"complete"===document.readyState&&n()}return t.version="2.0.1",t.load=function(e,o,n,i){i.isBuild?n(null):t(n)},t}();baruchSpinoza.Models.Book=Backbone.Model.extend({defaults:{isbn:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",title:"default title",author:"Jeanne Catherine Rangeant",price:0,cover:"http://placekitten.com/g/200/300"}}),baruchSpinoza.Collections.Book=Backbone.Collection.extend({model:baruchSpinoza.Models.Book}),baruchSpinoza.Views.BookCollection=Backbone.View.extend({tagName:"div",render:function(){var e=this;domReady(function(){e.collection.each(function(){console.log("COloction: ",arguments)})})},renderBook:function(e){new baruchSpinoza.Views.Book({model:e})}}),baruchSpinoza.Views.Book=Backbone.View.extend({tagName:"section",template:_.template('<section><img src="<%= cover %>" /><h1><%= title %> - <%= author %></h1><p><em><%= price %></em><small><%= isbn %></small></p></section>'),className:"book",initialize:function(){this.listen(this.model,"change",this.render),this.render()},render:function(){var e=this;e.$el.html(e.template(e.model.toJSON()))}}),conf={bookRegistry:{url:"http://henri-potier.xebia.fr/books",settings:{accepts:["text/json"],cache:!1,dataType:"json",ifModified:!0}}},domReady(function(){$(".button-collapse").sideNav(),$(".main-loader").addClass("hidden").hide()}),bookRegistryRequest=$.ajax(conf.bookRegistry.url,conf.bookRegistry.settings),bookRegistryRequest.then(function(e){var o=new baruchSpinoza.Collections.Book(e);console.log("BOOKS: ",o)},function(){console.log("FAIL: ",arguments)});
//# sourceMappingURL=index.min.js.map